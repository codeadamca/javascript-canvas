<!doctype html>
<html>
<head>

    <title>JavaScript and the Canvas</title>
    
    <style>
    
    #canvas {
        background-color: #000;
        width: 600px;
        height: 600px;
        border: 3px solid red;
    }
    
    </style>
    
</head>
<body>

    <h1>Basic Bounce Animation</h1>

    <canvas id="canvas" width="600" height="600"></canvas>
    
    <script>
    
        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        
        var yPosition = 100;
        var xPosition = 300;
        var yVelocity = 0;
        var bounces = 0;
        
        function frame()
        {
            
            context.clearRect(0,0,600,600);
            
            context.beginPath();
            context.lineWidth = 5;
            context.strokeStyle = "rgb(33,66,99)";
            context.arc(xPosition, yPosition, 20, 0, 2 * Math.PI);
            context.stroke();
            
            // console.log( yPosition - ( yPosition + yVelocity ) );
            
            if( bounces > 13 )
            {
                yVelocity = 0;
                xPosition += 1;
            }
            else if( yPosition > 580 )
            {
                yVelocity *= -0.8;
                yPosition = 580;
                bounces += 1;
            }
            else
            {
                yVelocity += 0.2;
                yPosition += yVelocity;
            }
            
            window.requestAnimationFrame(frame);
            
        }
        
        frame();
        
    </script>
    
</body>
</html>